-- Seed realistic INTRADAY equity data for testing
-- This creates intraday snapshots for the current trading day for account_id = 7

-- Clear existing data for account 7
DELETE FROM daily_equity_snapshots WHERE account_id = 7;

-- Create intraday equity data for today (every 5 minutes from 9:30 AM to 4:00 PM)
-- Starting equity: $3,320 (332000 cents) - this is our baseline
-- Trading hours: 9:30 AM to 4:00 PM (6.5 hours = 390 minutes = 78 data points)

-- Generate realistic intraday equity movements
-- Starting at $3,320, with realistic 5-minute variations
INSERT INTO daily_equity_snapshots (account_id, date, total_equity, cash_balance, position_value, day_change, day_change_percent) VALUES
-- Opening (9:30 AM)
(7, CURRENT_DATE + INTERVAL '9 hours 30 minutes', 332000, 200000, 132000, 0, 0.00),
-- Early morning (9:35 AM - 10:00 AM)
(7, CURRENT_DATE + INTERVAL '9 hours 35 minutes', 333200, 200000, 133200, 1200, 0.36),
(7, CURRENT_DATE + INTERVAL '9 hours 40 minutes', 334800, 200000, 134800, 2800, 0.84),
(7, CURRENT_DATE + INTERVAL '9 hours 45 minutes', 333500, 200000, 133500, 1500, 0.45),
(7, CURRENT_DATE + INTERVAL '9 hours 50 minutes', 335100, 200000, 135100, 3100, 0.93),
(7, CURRENT_DATE + INTERVAL '9 hours 55 minutes', 336800, 200000, 136800, 4800, 1.45),
(7, CURRENT_DATE + INTERVAL '10 hours', 338200, 200000, 138200, 6200, 1.87),
-- Mid-morning (10:05 AM - 11:00 AM)
(7, CURRENT_DATE + INTERVAL '10 hours 5 minutes', 339500, 200000, 139500, 7500, 2.26),
(7, CURRENT_DATE + INTERVAL '10 hours 10 minutes', 337800, 200000, 137800, 5800, 1.75),
(7, CURRENT_DATE + INTERVAL '10 hours 15 minutes', 340100, 200000, 140100, 8100, 2.44),
(7, CURRENT_DATE + INTERVAL '10 hours 20 minutes', 342300, 200000, 142300, 10300, 3.10),
(7, CURRENT_DATE + INTERVAL '10 hours 25 minutes', 341000, 200000, 141000, 9000, 2.71),
(7, CURRENT_DATE + INTERVAL '10 hours 30 minutes', 343500, 200000, 143500, 11500, 3.46),
(7, CURRENT_DATE + INTERVAL '10 hours 35 minutes', 345200, 200000, 145200, 13200, 3.98),
(7, CURRENT_DATE + INTERVAL '10 hours 40 minutes', 344000, 200000, 144000, 12000, 3.61),
(7, CURRENT_DATE + INTERVAL '10 hours 45 minutes', 346800, 200000, 146800, 14800, 4.46),
(7, CURRENT_DATE + INTERVAL '10 hours 50 minutes', 348500, 200000, 148500, 16500, 4.97),
(7, CURRENT_DATE + INTERVAL '10 hours 55 minutes', 347200, 200000, 147200, 15200, 4.58),
(7, CURRENT_DATE + INTERVAL '11 hours', 349800, 200000, 149800, 17800, 5.36),
-- Late morning (11:05 AM - 12:00 PM)
(7, CURRENT_DATE + INTERVAL '11 hours 5 minutes', 351500, 200000, 151500, 19500, 5.87),
(7, CURRENT_DATE + INTERVAL '11 hours 10 minutes', 350200, 200000, 150200, 18200, 5.48),
(7, CURRENT_DATE + INTERVAL '11 hours 15 minutes', 352800, 200000, 152800, 20800, 6.27),
(7, CURRENT_DATE + INTERVAL '11 hours 20 minutes', 354500, 200000, 154500, 22500, 6.78),
(7, CURRENT_DATE + INTERVAL '11 hours 25 minutes', 353100, 200000, 153100, 21100, 6.36),
(7, CURRENT_DATE + INTERVAL '11 hours 30 minutes', 355600, 200000, 155600, 23600, 7.11),
(7, CURRENT_DATE + INTERVAL '11 hours 35 minutes', 357200, 200000, 157200, 25200, 7.59),
(7, CURRENT_DATE + INTERVAL '11 hours 40 minutes', 355800, 200000, 155800, 23800, 7.17),
(7, CURRENT_DATE + INTERVAL '11 hours 45 minutes', 358300, 200000, 158300, 26300, 7.92),
(7, CURRENT_DATE + INTERVAL '11 hours 50 minutes', 359800, 200000, 159800, 27800, 8.37),
(7, CURRENT_DATE + INTERVAL '11 hours 55 minutes', 358400, 200000, 158400, 26400, 7.95),
(7, CURRENT_DATE + INTERVAL '12 hours', 360900, 200000, 160900, 28900, 8.70),
-- Lunch time (12:05 PM - 1:00 PM)
(7, CURRENT_DATE + INTERVAL '12 hours 5 minutes', 362500, 200000, 162500, 30500, 9.19),
(7, CURRENT_DATE + INTERVAL '12 hours 10 minutes', 361100, 200000, 161100, 29100, 8.77),
(7, CURRENT_DATE + INTERVAL '12 hours 15 minutes', 363600, 200000, 163600, 31600, 9.52),
(7, CURRENT_DATE + INTERVAL '12 hours 20 minutes', 365200, 200000, 165200, 33200, 10.00),
(7, CURRENT_DATE + INTERVAL '12 hours 25 minutes', 363800, 200000, 163800, 31800, 9.58),
(7, CURRENT_DATE + INTERVAL '12 hours 30 minutes', 366300, 200000, 166300, 34300, 10.33),
(7, CURRENT_DATE + INTERVAL '12 hours 35 minutes', 367900, 200000, 167900, 35900, 10.81),
(7, CURRENT_DATE + INTERVAL '12 hours 40 minutes', 366500, 200000, 166500, 34500, 10.39),
(7, CURRENT_DATE + INTERVAL '12 hours 45 minutes', 369000, 200000, 169000, 37000, 11.14),
(7, CURRENT_DATE + INTERVAL '12 hours 50 minutes', 370600, 200000, 170600, 38600, 11.63),
(7, CURRENT_DATE + INTERVAL '12 hours 55 minutes', 369200, 200000, 169200, 37200, 11.20),
(7, CURRENT_DATE + INTERVAL '13 hours', 371700, 200000, 171700, 39700, 11.96),
-- Early afternoon (1:05 PM - 2:00 PM)
(7, CURRENT_DATE + INTERVAL '13 hours 5 minutes', 373300, 200000, 173300, 41300, 12.44),
(7, CURRENT_DATE + INTERVAL '13 hours 10 minutes', 371900, 200000, 171900, 39900, 12.02),
(7, CURRENT_DATE + INTERVAL '13 hours 15 minutes', 374400, 200000, 174400, 42400, 12.77),
(7, CURRENT_DATE + INTERVAL '13 hours 20 minutes', 376000, 200000, 176000, 44000, 13.25),
(7, CURRENT_DATE + INTERVAL '13 hours 25 minutes', 374600, 200000, 174600, 42600, 12.83),
(7, CURRENT_DATE + INTERVAL '13 hours 30 minutes', 377100, 200000, 177100, 45100, 13.58),
(7, CURRENT_DATE + INTERVAL '13 hours 35 minutes', 378700, 200000, 178700, 46700, 14.07),
(7, CURRENT_DATE + INTERVAL '13 hours 40 minutes', 377300, 200000, 177300, 45300, 13.64),
(7, CURRENT_DATE + INTERVAL '13 hours 45 minutes', 379800, 200000, 179800, 47800, 14.40),
(7, CURRENT_DATE + INTERVAL '13 hours 50 minutes', 381400, 200000, 181400, 49400, 14.88),
(7, CURRENT_DATE + INTERVAL '13 hours 55 minutes', 380000, 200000, 180000, 48000, 14.46),
(7, CURRENT_DATE + INTERVAL '14 hours', 382500, 200000, 182500, 50500, 15.21),
-- Late afternoon (2:05 PM - 3:00 PM)
(7, CURRENT_DATE + INTERVAL '14 hours 5 minutes', 384100, 200000, 184100, 52100, 15.69),
(7, CURRENT_DATE + INTERVAL '14 hours 10 minutes', 382700, 200000, 182700, 50700, 15.27),
(7, CURRENT_DATE + INTERVAL '14 hours 15 minutes', 385200, 200000, 185200, 53200, 16.02),
(7, CURRENT_DATE + INTERVAL '14 hours 20 minutes', 386800, 200000, 186800, 54800, 16.51),
(7, CURRENT_DATE + INTERVAL '14 hours 25 minutes', 385400, 200000, 185400, 53400, 16.08),
(7, CURRENT_DATE + INTERVAL '14 hours 30 minutes', 387900, 200000, 187900, 55900, 16.84),
(7, CURRENT_DATE + INTERVAL '14 hours 35 minutes', 389500, 200000, 189500, 57500, 17.32),
(7, CURRENT_DATE + INTERVAL '14 hours 40 minutes', 388100, 200000, 188100, 56100, 16.90),
(7, CURRENT_DATE + INTERVAL '14 hours 45 minutes', 390600, 200000, 190600, 58600, 17.65),
(7, CURRENT_DATE + INTERVAL '14 hours 50 minutes', 392200, 200000, 192200, 60200, 18.13),
(7, CURRENT_DATE + INTERVAL '14 hours 55 minutes', 390800, 200000, 190800, 58800, 17.71),
(7, CURRENT_DATE + INTERVAL '15 hours', 393300, 200000, 193300, 61300, 18.46),
-- Final hour (3:05 PM - 4:00 PM)
(7, CURRENT_DATE + INTERVAL '15 hours 5 minutes', 394900, 200000, 194900, 62900, 18.95),
(7, CURRENT_DATE + INTERVAL '15 hours 10 minutes', 393500, 200000, 193500, 61500, 18.52),
(7, CURRENT_DATE + INTERVAL '15 hours 15 minutes', 396000, 200000, 196000, 64000, 19.28),
(7, CURRENT_DATE + INTERVAL '15 hours 20 minutes', 397600, 200000, 197600, 65600, 19.76),
(7, CURRENT_DATE + INTERVAL '15 hours 25 minutes', 396200, 200000, 196200, 64200, 19.34),
(7, CURRENT_DATE + INTERVAL '15 hours 30 minutes', 398700, 200000, 198700, 66700, 20.09),
(7, CURRENT_DATE + INTERVAL '15 hours 35 minutes', 400300, 200000, 200300, 68300, 20.57),
(7, CURRENT_DATE + INTERVAL '15 hours 40 minutes', 398900, 200000, 198900, 66900, 20.15),
(7, CURRENT_DATE + INTERVAL '15 hours 45 minutes', 401400, 200000, 201400, 69400, 20.90),
(7, CURRENT_DATE + INTERVAL '15 hours 50 minutes', 403000, 200000, 203000, 71000, 21.39),
(7, CURRENT_DATE + INTERVAL '15 hours 55 minutes', 401600, 200000, 201600, 69600, 20.96),
(7, CURRENT_DATE + INTERVAL '16 hours', 404100, 200000, 204100, 72100, 21.72);

-- Verify the data
SELECT 
    date,
    total_equity / 100.0 as total_equity_dollars,
    day_change / 100.0 as day_change_dollars,
    day_change_percent
FROM daily_equity_snapshots 
WHERE account_id = 7 
ORDER BY date DESC;
